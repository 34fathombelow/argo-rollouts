


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.2.3">
    
    
      
        <title>Rollout Spec - Argo Rollouts - Kubernetes Progressive Delivery Controller</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6e35a1a6.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a46bcfb3.min.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Work+Sans:300,400,400i,700%7C&display=fallback">
        <style>body,input{font-family:"Work Sans",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-105170809-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="teal" data-md-color-accent="">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#rollout-specification" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Argo Rollouts - Kubernetes Progressive Delivery Controller" class="md-header-nav__button md-logo" aria-label="Argo Rollouts - Kubernetes Progressive Delivery Controller">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Argo Rollouts - Kubernetes Progressive Delivery Controller
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Rollout Spec
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/argoproj/argo-rollouts/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Argo Rollouts - Kubernetes Progressive Delivery Controller" class="md-nav__button md-logo" aria-label="Argo Rollouts - Kubernetes Progressive Delivery Controller">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Argo Rollouts - Kubernetes Progressive Delivery Controller
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/argoproj/argo-rollouts/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../concepts/" title="Concepts" class="md-nav__link">
      Concepts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Getting Started
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/" title="Basic Usage" class="md-nav__link">
      Basic Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/nginx/" title="NGINX" class="md-nav__link">
      NGINX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/istio/" title="Istio" class="md-nav__link">
      Istio
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Rollout
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Rollout" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Rollout
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      Deployment Strategies
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Deployment Strategies" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Deployment Strategies
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../bluegreen/" title="BlueGreen" class="md-nav__link">
      BlueGreen
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../canary/" title="Canary" class="md-nav__link">
      Canary
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
    <a href="./" title="Rollout Spec" class="md-nav__link md-nav__link--active">
      Rollout Spec
    </a>
    
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      Traffic Management
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Traffic Management" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Traffic Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../traffic-management/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../traffic-management/istio/" title="Istio" class="md-nav__link">
      Istio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../traffic-management/nginx/" title="NGINX" class="md-nav__link">
      NGINX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../traffic-management/alb/" title="AWS ALB" class="md-nav__link">
      AWS ALB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../traffic-management/smi/" title="SMI" class="md-nav__link">
      SMI
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../anti-affinity/anti-affinity/" title="Anti Affinity" class="md-nav__link">
      Anti Affinity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hpa-support/" title="HPA Support" class="md-nav__link">
      HPA Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kustomize/" title="Kustomize Support" class="md-nav__link">
      Kustomize Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../restart/" title="Restarting Rollouts" class="md-nav__link">
      Restarting Rollouts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../controller-metrics/" title="Controller Metrics" class="md-nav__link">
      Controller Metrics
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../analysis/" title="Analysis" class="md-nav__link">
      Analysis
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../experiment/" title="Experiments" class="md-nav__link">
      Experiments
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Kubectl Plugin
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Kubectl Plugin" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Kubectl Plugin
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../kubectl-plugin/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-2" type="checkbox" id="nav-8-2">
    
    <label class="md-nav__link" for="nav-8-2">
      Commands
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Commands" data-md-level="2">
      <label class="md-nav__title" for="nav-8-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Commands
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts/" title="Rollouts" class="md-nav__link">
      Rollouts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_abort/" title="Rollouts Abort" class="md-nav__link">
      Rollouts Abort
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_create/" title="Rollouts Create" class="md-nav__link">
      Rollouts Create
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_create_analysisrun/" title="Rollouts Create Analysisrun" class="md-nav__link">
      Rollouts Create Analysisrun
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_get/" title="Rollouts Get" class="md-nav__link">
      Rollouts Get
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_get_experiment/" title="Rollouts Get Experiment" class="md-nav__link">
      Rollouts Get Experiment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_get_rollout/" title="Rollouts Get Rollout" class="md-nav__link">
      Rollouts Get Rollout
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_list/" title="Rollouts List" class="md-nav__link">
      Rollouts List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_list_experiments/" title="Rollouts List Experiments" class="md-nav__link">
      Rollouts List Experiments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_list_rollouts/" title="Rollouts List Rollouts" class="md-nav__link">
      Rollouts List Rollouts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_pause/" title="Rollouts Pause" class="md-nav__link">
      Rollouts Pause
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_promote/" title="Rollouts Promote" class="md-nav__link">
      Rollouts Promote
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_restart/" title="Rollouts Restart" class="md-nav__link">
      Rollouts Restart
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_retry/" title="Rollouts Retry" class="md-nav__link">
      Rollouts Retry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_retry_experiment/" title="Rollouts Retry Experiment" class="md-nav__link">
      Rollouts Retry Experiment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_retry_rollout/" title="Rollouts Retry Rollout" class="md-nav__link">
      Rollouts Retry Rollout
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_set/" title="Rollouts Set" class="md-nav__link">
      Rollouts Set
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_set_image/" title="Rollouts Set Image" class="md-nav__link">
      Rollouts Set Image
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_terminate/" title="Rollouts Terminate" class="md-nav__link">
      Rollouts Terminate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_terminate_analysisrun/" title="Rollouts Terminate Analysisrun" class="md-nav__link">
      Rollouts Terminate Analysisrun
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_terminate_experiment/" title="Rollouts Terminate Experiment" class="md-nav__link">
      Rollouts Terminate Experiment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../generated/kubectl-argo-rollouts/kubectl-argo-rollouts_version/" title="Rollouts Version" class="md-nav__link">
      Rollouts Version
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../migrating/" title="Migrating" class="md-nav__link">
      Migrating
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../FAQ/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Contributing
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Contributing" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Contributing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CONTRIBUTING/" title="Contribution Guide" class="md-nav__link">
      Contribution Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/setup/" title="Environment Setup" class="md-nav__link">
      Environment Setup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://github.com/argoproj/argo-rollouts/releases" title="Releases ⧉" class="md-nav__link">
      Releases ⧉
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://github.com/argoproj/argo-rollouts/milestones" title="Roadmap ⧉" class="md-nav__link">
      Roadmap ⧉
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://blog.argoproj.io/" title="Blog ⧉" class="md-nav__link">
      Blog ⧉
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/argoproj/argo-rollouts/edit/master/docs/features/specification.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="rollout-specification">Rollout Specification<a class="headerlink" href="#rollout-specification" title="Permanent link">&para;</a></h1>
<p>The following describes all the available fields of a rollout:</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">argoproj.io/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Rollout</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example-rollout-canary</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="c1"># Number of desired pods. This is a pointer to distinguish between explicit zero and not specified.</span>
  <span class="c1"># Defaults to 1.</span>
  <span class="nt">replicas</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
  <span class="c1"># Label selector for pods. Existing ReplicaSets whose pods are selected by this will be the ones</span>
  <span class="c1"># affected by this rollout. It must match the pod template&#39;s labels.</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">guestbook</span>
  <span class="c1"># Template describes the pods that will be created. Same as deployment</span>
  <span class="nt">template</span><span class="p">:</span>
    <span class="nt">spec</span><span class="p">:</span>
      <span class="nt">containers</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">guestbook</span>
        <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">gcr.io/heptio-images/ks-guestbook-demo:0.1</span>
  <span class="c1"># Minimum number of seconds for which a newly created pod should be ready without any of its</span>
  <span class="c1"># container crashing, for it to be considered available.</span>
  <span class="c1"># Defaults to 0 (pod will be considered available as soon as it is ready)</span>
  <span class="nt">minReadySeconds</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>
  <span class="c1"># The number of old ReplicaSets to retain.</span>
  <span class="c1"># Defaults to 10</span>
  <span class="nt">revisionHistoryLimit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
  <span class="c1"># Pause allows a user to manually pause a rollout at any time. A rollout will not advance through</span>
  <span class="c1"># its steps while it is manually paused, but HPA auto-scaling will still occur.</span>
  <span class="nt">paused</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="c1"># The maximum time in seconds in which a rollout must make progress during an update, before it is</span>
  <span class="c1"># considered to be failed. Argo Rollouts will continue to process failed rollouts and a condition</span>
  <span class="c1"># with a ProgressDeadlineExceeded reason will be surfaced in the rollout status. Note that</span>
  <span class="c1"># progress will not be estimated during the time a rollout is paused.</span>
  <span class="c1"># Defaults to 600s</span>
  <span class="nt">progressDeadlineSeconds</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">600</span>
  <span class="c1"># UTC timestamp in which a Rollout should sequentially restart all of its pods. Used by the</span>
  <span class="c1"># `kubectl argo rollouts restart ROLLOUT` command. The controller will ensure all pods have a</span>
  <span class="c1"># creationTimestamp greater than or equal to this value.</span>
  <span class="nt">restartAt</span><span class="p">:</span> <span class="s">&quot;2020-03-30T21:19:35Z&quot;</span>
  <span class="c1"># Deployment strategy to use during updates</span>
  <span class="nt">strategy</span><span class="p">:</span>
    <span class="nt">blueGreen</span><span class="p">:</span>
      <span class="c1"># Name of the service that the rollout modifies as the active service.</span>
      <span class="nt">activeService</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">active-service</span>
      <span class="c1"># Pre-promotion analysis run which performs analysis before the service cutover. +optional</span>
      <span class="nt">prePromotionAnalysis</span><span class="p">:</span>
        <span class="nt">templates</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">templateName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">success-rate</span>
        <span class="c1"># template arguments</span>
        <span class="nt">args</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">service-name</span>
          <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">guestbook-svc.default.svc.cluster.local</span>
      <span class="c1"># Pre-promotion analysis run which performs analysis after the service cutover. +optional</span>
      <span class="nt">postPromotionAnalysis</span><span class="p">:</span>
        <span class="nt">templates</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">templateName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">success-rate</span>
        <span class="c1"># template arguments</span>
        <span class="nt">args</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">service-name</span>
          <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">guestbook-svc.default.svc.cluster.local</span>
      <span class="c1"># Name of the service that the rollout modifies as the preview service. +optional</span>
      <span class="nt">previewService</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">preview-service</span>
      <span class="c1"># The number of replicas to run under the preview service before the switchover. Once the rollout is resumed the new replicaset will be full scaled up before the switch occurs +optional</span>
      <span class="nt">previewReplicaCount</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="c1"># Indicates if the rollout should automatically promote the new ReplicaSet to the active service or enter a paused state. If not specified, the default value is true. +optional</span>
      <span class="nt">autoPromotionEnabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
      <span class="c1"># Automatically promotes the current ReplicaSet to active after the specified pause delay in seconds after the ReplicaSet becomes ready. If omitted, the Rollout enters and remains in a paused state until manually resumed by resetting spec.Paused to false. +optional</span>
      <span class="nt">autoPromotionSeconds</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>
      <span class="c1"># Adds a delay before scaling down the previous replicaset. If omitted, the Rollout waits 30 seconds before scaling down the previous ReplicaSet. A minimum of 30 seconds is recommended to ensure IP table propagation across the nodes in a cluster. See https://github.com/argoproj/argo-rollouts/issues/19#issuecomment-476329960 for more information</span>
      <span class="nt">scaleDownDelaySeconds</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>
      <span class="c1"># Limits the number of old RS that can run at once before getting scaled down. Defaults to nil</span>
      <span class="nt">scaleDownDelayRevisionLimit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
      <span class="c1"># Anti Affinity configuration between desired and previous replicaset. Only one must be specified</span>
      <span class="nt">antiAffinity</span><span class="p">:</span>
        <span class="nt">requiredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
        <span class="nt">preferredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span>
          <span class="nt">weight</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span> <span class="c1"># Between 1 - 100</span>
    <span class="nt">canary</span><span class="p">:</span>
      <span class="c1"># CanaryService holds the name of a service which selects pods with canary version and don&#39;t select any pods with stable version. +optional</span>
      <span class="nt">canaryService</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">canary-service</span>
      <span class="c1"># StableService holds the name of a service which selects pods with stable version and don&#39;t select any pods with canary version. +optional</span>
      <span class="nt">stableService</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">stable-service</span>
      <span class="c1"># The maximum number of pods that can be unavailable during the update. Value can be an absolute number (ex: 5) or a percentage of total pods at the start of update (ex: 10%). Absolute number is calculated from percentage by rounding down. This can not be 0 if MaxSurge is 0. By default, a fixed value of 1 is used. Example: when this is set to 30%, the old RC can be scaled down by 30% immediately when the rolling update starts. Once new pods are ready, old RC can be scaled down further, followed by scaling up the new RC, ensuring that at least 70% of original number of pods are available at all times during the update. +optional</span>
      <span class="nt">maxUnavailable</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="c1"># The maximum number of pods that can be scheduled above the original number of pods. Value can be an absolute number (ex: 5) or a percentage of total pods at the start of the update (ex: 10%). This can not be 0 if MaxUnavailable is 0. Absolute number is calculated from percentage by rounding up. By default, a value of 1 is used. Example: when this is set to 30%, the new RC can be scaled up by 30% immediately when the rolling update starts. Once old pods have been killed, new RC can be scaled up further, ensuring that total number of pods running at any time during the update is atmost 130% of original pods. +optional</span>
      <span class="nt">maxSurge</span><span class="p">:</span> <span class="s">&quot;20%&quot;</span>
      <span class="c1"># Background analysis to run during the rollout</span>
      <span class="nt">analysis</span><span class="p">:</span>
        <span class="nt">templates</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">templateName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">success-rate</span>
        <span class="c1"># template arguments</span>
        <span class="nt">args</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">service-name</span>
          <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">guestbook-svc.default.svc.cluster.local</span>
      <span class="c1"># Define the order of phases to execute the canary deployment +optional</span>
      <span class="nt">steps</span><span class="p">:</span>
        <span class="c1"># Sets the ratio of new replicasets to 20%</span>
      <span class="p p-Indicator">-</span> <span class="nt">setWeight</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span> 
        <span class="c1"># Pauses the rollout for an hour</span>
      <span class="p p-Indicator">-</span> <span class="nt">pause</span><span class="p">:</span>
          <span class="nt">duration</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1h</span> <span class="c1"># One hour</span>
      <span class="p p-Indicator">-</span> <span class="nt">setWeight</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">40</span>
        <span class="c1"># Sets .spec.paused to true and waits until the field is changed back</span>
      <span class="p p-Indicator">-</span> <span class="nt">pause</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
      <span class="c1"># Anti Affinity configuration between desired and previous replicaset. Only one must be specified</span>
      <span class="nt">antiAffinity</span><span class="p">:</span>
        <span class="nt">requiredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
        <span class="nt">preferredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span>
          <span class="nt">weight</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span> <span class="c1"># Between 1 - 100</span>
      <span class="c1"># Traffic routing specifies ingress controller or service mesh configuration to achieve</span>
      <span class="c1"># advanced traffic splitting. If omitted, will achieve traffic split via a weighted</span>
      <span class="c1"># replica counts between the canary and stable ReplicaSet.</span>
      <span class="nt">trafficRouting</span><span class="p">:</span>
        <span class="c1"># Istio traffic routing configuration</span>
        <span class="nt">istio</span><span class="p">:</span>
          <span class="nt">virtualService</span><span class="p">:</span> 
            <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rollout-vsvc</span>  <span class="c1"># required</span>
            <span class="nt">routes</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">primary</span> <span class="c1"># At least one route is required</span>
        <span class="c1"># NGINX Ingress Controller routing configuration</span>
        <span class="nt">nginx</span><span class="p">:</span>
          <span class="nt">stableIngress</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">primary-ingress</span>  <span class="c1"># required</span>
          <span class="nt">annotationPrefix</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">customingress.nginx.ingress.kubernetes.io</span> <span class="c1"># optional</span>
          <span class="nt">additionalIngressAnnotations</span><span class="p">:</span>   <span class="c1"># optional</span>
            <span class="nt">canary-by-header</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">X-Canary</span>
            <span class="nt">canary-by-header-value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">iwantsit</span>
        <span class="c1"># ALB Ingress Controller routing configuration</span>
        <span class="nt">alb</span><span class="p">:</span>
           <span class="nt">ingress</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ingress</span>  <span class="c1"># required</span>
           <span class="nt">servicePort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">443</span>  <span class="c1"># required</span>
           <span class="nt">annotationPrefix</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">custom.alb.ingress.kubernetes.io</span> <span class="c1"># optional</span>
        <span class="c1"># Service Mesh Interface routing configuration</span>
        <span class="nt">smi</span><span class="p">:</span>
         <span class="nt">rootService</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">root-svc</span> <span class="c1"># optional</span>
         <span class="nt">trafficSplitName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rollout-example-traffic-split</span> <span class="c1"># optional</span>

<span class="nt">status</span><span class="p">:</span>
  <span class="nt">pauseConditions</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">reason</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">StepPause</span>
    <span class="nt">startTime</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2019-10-00T1234</span>
  <span class="p p-Indicator">-</span> <span class="nt">reason</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">BlueGreenPause</span>
    <span class="nt">startTime</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2019-10-00T1234</span>
  <span class="p p-Indicator">-</span> <span class="nt">reason</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AnalysisRunInconclusive</span>
    <span class="nt">startTime</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2019-10-00T1234</span> 
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../canary/" title="Canary" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Canary
              </div>
            </div>
          </a>
        
        
          <a href="../traffic-management/" title="Overview" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Overview
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.a45f732b.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.c03f0417.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>